<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="./example/example.css">
</head>
<body>
  <button id="uploader-button" class="example-button">点击上传</button>
  <div class="example-list">
    <div id="filelist"></div>
  </div>
  <div id="flash-el"></div>
  <script>
    function cback () {
      console.log('cssss')
    }
  	function _makeFlashHTML(opts){
			return ('<object id="#id#" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+(opts.width || '100%')+'" height="'+(opts.height || '100%')+'">'
				+ '<param name="movie" value="#src#" />'
				+ '<param name="flashvars" value="#flashvars#" />'
				+ '<param name="swliveconnect" value="true" />'
				+ '<param name="allowscriptaccess" value="always" />'
				+ '<param name="allownetworking" value="all" />'
				+ '<param name="menu" value="false" />'
				+ '<param name="wmode" value="#wmode#" />'
				+ '<embed flashvars="#flashvars#" swliveconnect="true" allownetworking="all" allowscriptaccess="always" name="#id#" src="#src#" width="'+(opts.width || '100%')+'" height="'+(opts.height || '100%')+'" menu="false" wmode="transparent" type="application/x-shockwave-flash"></embed>'
				+ '</object>').replace(/#(\w+)#/ig, function (a, name){ return opts[name]; })
			;
		}
    document.getElementById('flash-el').innerHTML = _makeFlashHTML({
      id: 'flash-el',
      src: './dist/FileAPI.flash.swf',
      flashvars: 'callback=cback',
      wmode: 'opaque'
    })
  </script>
  <script src="dist/uploader.js"></script>
  <script>
  var UPLOADER_PATH = 'http://localhost:8080/upload'
  var uploader = new Uploader({
    path: UPLOADER_PATH,
    btnEl: document.getElementById('uploader-button'),
    fileListEl: document.getElementById('filelist'),
    env: 'webui', // webui > mobileui > websdk > mobilesdk
    theme: 'default',
    options: {
      auto: false,
      md5: true,
      type: 'ws', // 'ws'>'http'>'flash'. default: 'ws'
      queued: '2',
      ticket: 'bearer bxxx'
    }
  })
  </script>
</body>
</html>